"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[25],{6438:function(e,n,r){r.d(n,{Dh:function(){return i},W:function(){return c},mz:function(){return d},vE:function(){return l}});var t=r(4165),a=r(5861),s=r(4333);function c(e,n,r){return o.apply(this,arguments)}function o(){return(o=(0,a.Z)((0,t.Z)().mark((function e(n,r,a){var c,o;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(s.C,"/boards"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer ".concat(n)},body:JSON.stringify({title:a,owner:r,users:[]})});case 2:return c=e.sent,e.next=5,c.json();case 5:if(o=e.sent,c.ok){e.next=8;break}throw new Error(o.message);case 8:return e.abrupt("return",o);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function i(e){return u.apply(this,arguments)}function u(){return(u=(0,a.Z)((0,t.Z)().mark((function e(n){var r,a;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(s.C,"/boards"),{method:"GET",headers:{Accept:"application/json",Authorization:"Bearer ".concat(n)}});case 2:return r=e.sent,e.next=5,r.json();case 5:if(a=e.sent,r.ok){e.next=8;break}throw new Error(a.message);case 8:return e.abrupt("return",a);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function l(e,n){return p.apply(this,arguments)}function p(){return(p=(0,a.Z)((0,t.Z)().mark((function e(n,r){var a,c;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(s.C,"/boards/").concat(r),{method:"GET",headers:{Accept:"application/json",Authorization:"Bearer ".concat(n)}});case 2:return a=e.sent,e.next=5,a.json();case 5:if(c=e.sent,a.ok){e.next=8;break}throw new Error(c.message);case 8:return e.abrupt("return",c);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e,n){return f.apply(this,arguments)}function f(){return(f=(0,a.Z)((0,t.Z)().mark((function e(n,r){var a,c;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(s.C,"/boards/").concat(r),{method:"DELETE",headers:{Accept:"application/json",Authorization:"Bearer ".concat(n)}});case 2:return a=e.sent,e.next=5,a.json();case 5:if(c=e.sent,a.ok){e.next=8;break}throw new Error(c.message);case 8:return e.abrupt("return",c);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},5989:function(e,n,r){r.d(n,{Z:function(){return i}});r(2791);var t=r(1647),a=r(1508),s="CustomSnackbar_snackbar__HogOa",c="CustomSnackbar_alert__2Qolh",o=r(184);var i=function(e){var n=e.isOpen,r=e.onClose,i=e.type,u=e.message,l=function(e,n){"clickaway"!==n&&r()};return(0,o.jsx)(t.Z,{className:s,open:n,autoHideDuration:2e3,onClose:l,children:(0,o.jsx)(a.Z,{elevation:6,variant:"filled",className:c,onClose:l,severity:i,children:u})})}},1303:function(e,n,r){r.d(n,{Z:function(){return c}});r(2791);var t=r(8858),a="FullScreenLoader_wrapper__ijAZ7",s=r(184);var c=function(){return(0,s.jsx)("div",{className:a,children:(0,s.jsx)(t.Z,{})})}},4025:function(e,n,r){r.r(n),r.d(n,{default:function(){return T}});var t=r(2791),a=r(2020),s=r(1413),c=r(4165),o=r(5861),i=r(9439),u=r(9434),l=r(1087),p=r(3811),d=r(6650),f=r(7247),h=r(5399),x=r(5450),m=r(8858),v=r(1303),Z=r(6438),j=r(8303),_="BoardCard_board__DBytZ",k="BoardCard_link__8578w",w="BoardCard_paper__tFQTR",b="BoardCard_title__p+WSz",g="BoardCard_owner__hM5mo",C="BoardCard_deleteBtn__1cVJM",y="BoardCard_dialogContent__uqgdb",B=r(184),E=(0,t.lazy)((function(){return r.e(156).then(r.bind(r,3156))}));var N=function(e){var n=e.boardId,r=e.title,s=e.owner,u=e.updateBoards,N=e.updateSnackBar,S=(0,j.Z)().user,z=(0,a.$)("boards-list-page").t,O=(0,t.useState)(!1),A=(0,i.Z)(O,2),D=A[0],T=A[1],F=(0,t.useState)(!1),H=(0,i.Z)(F,2),I=H[0],L=H[1],M=function(){var e=(0,o.Z)((0,c.Z)().mark((function e(){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return T(!0),e.prev=1,e.next=4,(0,Z.mz)(S.token,n);case 4:N({type:"success",isOpen:!0,message:"successDeletion"}),u(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),e.t0 instanceof Error&&N({isOpen:!0,type:"error",message:"unknownError"});case 11:return e.prev=11,T(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,8,11,14]])})));return function(){return e.apply(this,arguments)}}(),W=function(){L(!1)};return(0,B.jsxs)(B.Fragment,{children:[(0,B.jsxs)("div",{className:_,children:[(0,B.jsx)(l.rU,{className:k,to:"/board-management/".concat(n),children:(0,B.jsxs)(d.Z,{className:w,elevation:4,children:[(0,B.jsx)("p",{className:b,children:r}),(0,B.jsxs)("p",{className:g,children:[z("owner"),": ",s]})]})}),(0,B.jsx)(p.Z,{className:C,onClick:function(){L(!0)},children:(0,B.jsx)(f.Z,{})})]}),(0,B.jsx)(h.Z,{open:I,onClose:W,maxWidth:"xs",fullWidth:!0,children:(0,B.jsx)(x.Z,{className:y,children:(0,B.jsx)(t.Suspense,{fallback:(0,B.jsx)(m.Z,{}),children:(0,B.jsx)(E,{itemToDelete:z("deleteInfo",{columnName:r}),onClose:W,onDelete:M})})})}),D&&(0,B.jsx)(v.Z,{})]})},S=r(5989),z=r(5562),O="BoardsList_list__E0tGo";var A=function(){var e=(0,u.v9)((function(e){return e.boards.shouldBoardsUpdate})),n=(0,u.I0)(),r=(0,a.$)("boards-list-page").t,l=(0,j.Z)().user,p=(0,t.useState)([]),d=(0,i.Z)(p,2),f=d[0],h=d[1],x=(0,t.useState)(!1),v=(0,i.Z)(x,2),_=v[0],k=v[1],w=(0,t.useState)(null),b=(0,i.Z)(w,2),g=b[0],C=b[1],y=(0,t.useState)({isOpen:!1,type:"success",message:""}),E=(0,i.Z)(y,2),A=E[0],D=E[1],T=(0,t.useCallback)((0,o.Z)((0,c.Z)().mark((function e(){var n;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k(!0),C(null),e.prev=2,e.next=5,(0,Z.Dh)(l.token);case 5:n=e.sent,h(n),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),e.t0 instanceof Error&&C("unknownError");case 12:return e.prev=12,k(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[2,9,12,15]])}))),[l.token]);(0,t.useEffect)((function(){T(),e&&n((0,z.Xh)(!1))}),[n,T,e]);var F=function(){T()},H=function(e){var n=e.isOpen,r=e.type,t=e.message;D({isOpen:n,type:r,message:t})};return(0,B.jsxs)(B.Fragment,{children:[(0,B.jsxs)("div",{className:O,children:[_&&(0,B.jsx)(m.Z,{}),!!f.length&&!_&&!g&&f.map((function(e){return(0,B.jsx)(N,{boardId:e._id,title:e.title,owner:e.owner,updateBoards:F,updateSnackBar:H},e._id)}))]}),g&&(0,B.jsx)("p",{children:r("".concat(g))}),!f.length&&!_&&!g&&(0,B.jsx)("p",{children:r("noBoards")}),(0,B.jsx)(S.Z,(0,s.Z)((0,s.Z)({},A),{},{onClose:function(){D((function(e){return(0,s.Z)((0,s.Z)({},e),{},{isOpen:!1})}))},message:r("".concat(A.message))}))]})},D="BoardsListPage_wrapper__bqEef";var T=function(){var e=(0,a.$)("boards-list-page").t;return(0,B.jsx)("div",{className:"container",children:(0,B.jsxs)("div",{className:D,children:[(0,B.jsx)("h2",{children:e("title")}),(0,B.jsx)(A,{})]})})}},7247:function(e,n,r){var t=r(4836);n.Z=void 0;var a=t(r(5649)),s=r(184),c=(0,a.default)((0,s.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");n.Z=c}}]);
//# sourceMappingURL=25.b5eeb56d.chunk.js.map